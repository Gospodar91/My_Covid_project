{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\React\\\\covid_project\\\\covid_projest\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\React\\\\covid_project\\\\covid_projest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import PNotify from\"pnotify/dist/es/PNotify.js\";var KEY=\"15302072-a81be31270c5e4995077a81d4\";var newsKey=\"65cb0b3a150c4ecfb6031d583c73fa16\";PNotify.defaults.delay=1800;export var operations={getSummary:function getSummary(){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://api.covid19api.com/summary\");case 3:data=_context.sent;return _context.abrupt(\"return\",data);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"GetSummaryError\",_context.t0);throw new Error();case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();},getFlag:function getFlag(searchQuery){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"https://pixabay.com/api/?key=\".concat(KEY,\"&q=\").concat(searchQuery,\"+flag&per+page=3&image_type=photo\"));case 3:data=_context2.sent;if(data.data.total===0){PNotify.error({title:\"Sorry:\",text:\"Please write correct country\"});}return _context2.abrupt(\"return\",data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(\"GetSummaryError\",_context2.t0);throw new Error();case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}))();},getNews:function getNews(){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"https://newsapi.org/v2/everything?qInTitle=covid&language=en&pageSize=3&sortBy=publishedAt&apiKey=\".concat(newsKey));case 3:data=_context3.sent;return _context3.abrupt(\"return\",data);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(\"GetNewsError\",_context3.t0);throw new Error();case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}))();},getSearchnews:function getSearchnews(country){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"https://newsapi.org/v2/everything?qInTitle=covid+\".concat(country,\"&pageSize=3&sortBy=publishedAt&apiKey=\").concat(newsKey));case 3:data=_context4.sent;if(data.data.totalResults===0){PNotify.error({title:\"Sorry:\",text:\"News are unavailable now\"});}return _context4.abrupt(\"return\",data);case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(\"GetNewsError\",_context4.t0);throw new Error();case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}))();}};","map":{"version":3,"sources":["E:/React/covid_project/covid_projest/src/components/covid19/operations/Operations.js"],"names":["axios","PNotify","KEY","newsKey","defaults","delay","operations","getSummary","get","data","console","log","Error","getFlag","searchQuery","total","error","title","text","getNews","getSearchnews","country","totalResults"],"mappings":"uPAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CACA,GAAMC,CAAAA,GAAG,CAAG,oCAAZ,CACA,GAAMC,CAAAA,OAAO,CAAG,kCAAhB,CACAF,OAAO,CAACG,QAAR,CAAiBC,KAAjB,CAAyB,IAAzB,CACA,MAAO,IAAMC,CAAAA,UAAU,CAAG,CAClBC,UADkB,sBACL,kPAEIP,CAAAA,KAAK,CAACQ,GAAN,sCAFJ,QAETC,IAFS,+CAGRA,IAHQ,0DAKfC,OAAO,CAACC,GAAR,CAAY,iBAAZ,cALe,KAMT,IAAIC,CAAAA,KAAJ,EANS,0EAQlB,CATuB,CAWlBC,OAXkB,kBAWVC,WAXU,CAWG,yPAEJd,CAAAA,KAAK,CAACQ,GAAN,wCACeN,GADf,eACwBY,WADxB,sCAFI,QAEjBL,IAFiB,gBAKvB,GAAIA,IAAI,CAACA,IAAL,CAAUM,KAAV,GAAoB,CAAxB,CAA2B,CACzBd,OAAO,CAACe,KAAR,CAAc,CACZC,KAAK,CAAE,QADK,CAEZC,IAAI,CAAE,8BAFM,CAAd,EAID,CAVsB,iCAYhBT,IAZgB,6DAcvBC,OAAO,CAACC,GAAR,CAAY,iBAAZ,eAduB,KAejB,IAAIC,CAAAA,KAAJ,EAfiB,4EAiB1B,CA5BuB,CA8BlBO,OA9BkB,mBA8BR,yPAEOnB,CAAAA,KAAK,CAACQ,GAAN,6GACoFL,OADpF,EAFP,QAENM,IAFM,iDAMLA,IANK,6DAQZC,OAAO,CAACC,GAAR,CAAY,cAAZ,eARY,KASN,IAAIC,CAAAA,KAAJ,EATM,4EAWf,CAzCuB,CA2ClBQ,aA3CkB,wBA2CJC,OA3CI,CA2CK,yPAENrB,CAAAA,KAAK,CAACQ,GAAN,4DACmCa,OADnC,kDACmFlB,OADnF,EAFM,QAEnBM,IAFmB,gBAKzB,GAAIA,IAAI,CAACA,IAAL,CAAUa,YAAV,GAA2B,CAA/B,CAAkC,CAChCrB,OAAO,CAACe,KAAR,CAAc,CAAEC,KAAK,CAAE,QAAT,CAAmBC,IAAI,CAAE,0BAAzB,CAAd,EACD,CAPwB,iCAQlBT,IARkB,6DAUzBC,OAAO,CAACC,GAAR,CAAY,cAAZ,eAVyB,KAWnB,IAAIC,CAAAA,KAAJ,EAXmB,4EAa5B,CAxDuB,CAAnB","sourcesContent":["import axios from \"axios\";\r\nimport PNotify from \"pnotify/dist/es/PNotify.js\";\r\nconst KEY = \"15302072-a81be31270c5e4995077a81d4\";\r\nconst newsKey = \"65cb0b3a150c4ecfb6031d583c73fa16\";\r\nPNotify.defaults.delay = 1800;\r\nexport const operations = {\r\n  async getSummary() {\r\n    try {\r\n      const data = await axios.get(`https://api.covid19api.com/summary`);\r\n      return data;\r\n    } catch (error) {\r\n      console.log(\"GetSummaryError\", error);\r\n      throw new Error();\r\n    }\r\n  },\r\n\r\n  async getFlag(searchQuery) {\r\n    try {\r\n      const data = await axios.get(\r\n        `https://pixabay.com/api/?key=${KEY}&q=${searchQuery}+flag&per+page=3&image_type=photo`\r\n      );\r\n      if (data.data.total === 0) {\r\n        PNotify.error({\r\n          title: \"Sorry:\",\r\n          text: \"Please write correct country\",\r\n        });\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.log(\"GetSummaryError\", error);\r\n      throw new Error();\r\n    }\r\n  },\r\n\r\n  async getNews() {\r\n    try {\r\n      const data = await axios.get(\r\n        `https://newsapi.org/v2/everything?qInTitle=covid&language=en&pageSize=3&sortBy=publishedAt&apiKey=${newsKey}`\r\n      );\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.log(\"GetNewsError\", error);\r\n      throw new Error();\r\n    }\r\n  },\r\n\r\n  async getSearchnews(country) {\r\n    try {\r\n      const data = await axios.get(\r\n        `https://newsapi.org/v2/everything?qInTitle=covid+${country}&pageSize=3&sortBy=publishedAt&apiKey=${newsKey}`\r\n      );\r\n      if (data.data.totalResults === 0) {\r\n        PNotify.error({ title: \"Sorry:\", text: \"News are unavailable now\" });\r\n      }\r\n      return data;\r\n    } catch (error) {\r\n      console.log(\"GetNewsError\", error);\r\n      throw new Error();\r\n    }\r\n  },\r\n};\r\n"]},"metadata":{},"sourceType":"module"}